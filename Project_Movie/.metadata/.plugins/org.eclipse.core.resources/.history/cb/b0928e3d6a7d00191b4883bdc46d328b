import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStream;
import java.io.InputStreamReader;
import java.io.OutputStream;
import java.io.OutputStreamWriter;
import java.io.PrintWriter;
import java.net.Socket;
import java.net.UnknownHostException;

public class Client {
	public static void main(String[] args) {
		try {
			Socket sock = new Socket("127.0.0.1", 10001);
			System.out.println("서버에 연결되었습니다.");
			
			ClientSend send = new ClientSend(sock);
			ClientReceive recv = new ClientReceive(sock);
			
			send.start();
			recv.start();
			
		} catch (Exception e) {
			e.printStackTrace();
		}
	}
}
class ClientSend extends Thread{
	Socket sock;
	OutputStream output;
	PrintWriter pw;
	
	ClientSend(Socket sock){
		try {
			output = sock.getOutputStream();
			pw = new PrintWriter(new OutputStreamWriter(output));
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	public void run() {
		while(output != null) {
			pw.println();
		}
	}
}
class ClientReceive extends Thread{
	Socket sock;
	InputStream input;
	BufferedReader br;
	
	ClientReceive(Socket sock){
		try {
			input = sock.getInputStream();
			br = new BufferedReader(new InputStreamReader(input));
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	public void run() {
		while(input != null) {
			try {
				System.out.println(br.readLine());
			} catch (IOException e) {
				e.printStackTrace();
			}
		}
	}
	
}
